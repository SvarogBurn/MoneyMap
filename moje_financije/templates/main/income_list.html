{% extends 'base.html' %}
{% block title %}Income{% endblock %}

{% block content %}
<h1 class="text-3xl font-bold mb-6 text-gray-800">Income List</h1>

<!-- Top Section -->
<div class="flex justify-between items-center mb-4">
    <div class="bg-green-100 p-4 rounded-lg text-lg font-semibold text-green-800 shadow">
        Total Income This Month: <span class="font-bold">€{{ total_income|floatformat:2 }}</span>
    </div>
    <a href="{% url 'income_create' %}" class="bg-green-600 text-white px-5 py-2 rounded-lg hover:bg-green-700 shadow-lg">+ Add Income</a>
</div>

<!-- Income Table -->
<div class="overflow-x-auto bg-white p-6 rounded-lg shadow-lg">
    <table class="min-w-full border border-gray-300">
        <thead>
            <tr class="bg-green-600 text-white text-left">
                <th class="py-3 px-4 border">Date</th>
                <th class="py-3 px-4 border">Source</th>
                <th class="py-3 px-4 border">Amount (€)</th>
            </tr>
        </thead>
        <tbody>
            {% for income in incomes %}
            <tr class="border hover:bg-gray-100">
                <td class="py-3 px-4 border">{{ income.date }}</td>
                <td class="py-3 px-4 border">
                    <a href="{% url 'income_detail' income.pk %}" class="text-green-600 hover:underline font-semibold">{{ income.name }}</a>
                </td>
                <td class="py-3 px-4 border font-bold">€{{ income.amount|floatformat:2 }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="3" class="py-6 text-center text-gray-500">No income recorded.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Balance Section -->
<div class="bg-gray-100 p-6 mt-6 rounded-lg shadow-lg text-lg font-semibold">
    <p>Remaining Balance: <span class="font-bold text-gray-800">€{{ remaining_balance|floatformat:2 }}</span></p>
</div>
{% endblock %}